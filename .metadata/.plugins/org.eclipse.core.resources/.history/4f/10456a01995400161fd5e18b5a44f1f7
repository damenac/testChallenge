package root;

import java.util.ArrayList;
import java.util.List;

import root.aux.CountedNumber;

public class BucketSort implements ISort{

	@Override
	public void sort(List<Integer> numbers) {
		
		// Computing the max number in the list
		int max = -1;
		for (Integer integer : numbers) {
			if(integer > max)
				max = integer.intValue();
		}
		
		// Creating the auxiliary array with numbers in their position.
		List<CountedNumber> auxiliary = new ArrayList<CountedNumber>(max);
		for (int i = 0; i < numbers.size(); i++) {
			if(auxiliary.get(numbers.get(i)) == null){
				CountedNumber number = new CountedNumber(numbers.get(i));
				auxiliary.add(numbers.get(i), number);
			}else{
				auxiliary.get(numbers.get(i)).increaseCount();
			}
		}
		
		// Building the sorted list
		List<Integer> sorted = new ArrayList<Integer>();
		for (int i = 0; i < auxiliary.size(); i++) {
			CountedNumber current = auxiliary.get(i);
			if(current != null){
				for (int j = 0; j < current.getCount(); j++) {
					sorted.add(current.getNumber());
				}
			}
		}
	}
}
